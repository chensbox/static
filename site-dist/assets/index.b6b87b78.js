var C=Object.defineProperty,B=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var m=(e,n,t)=>n in e?C(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,i=(e,n)=>{for(var t in n||(n={}))S.call(n,t)&&m(e,t,n[t]);if(f)for(var t of f(n))T.call(n,t)&&m(e,t,n[t]);return e},r=(e,n)=>B(e,k(n));import{s as N,r as y,o as g,c as _,w as j,d as v,f as L,t as $,e as O,g as V,T as A,A as h,B as d,D}from"./vue-libs.83d6b4b5.js";import{i as I}from"./index.f9e694e0.js";import{o as R}from"./index.a30a0eb1.js";import{_ as q}from"./iframe-router.da9cdf5c.js";function x(e,n){const t=N(e,n),a=document.createElement("div");return document.body.appendChild(a),t.mount(a),{instance:t,mountNode:a}}function b(e=0){return new Promise(n=>{setTimeout(n,e)})}const z="toast",E={icon:I,overlay:R},F={success:Boolean,fail:Boolean,destroy:Function,position:String,showLoading:Boolean,icon:[String,Object],duration:{type:Number,default:2e3},message:{type:[String,Object],require:!0},forbidClick:{type:Boolean,default:!1},loadingType:{type:String,default:"circle"}},M=(e,{expose:n})=>{const t=h({}),a=h({message:e.message,icon:e.icon}),c=d(),l=()=>{c.value&&(c.value.style.opacity=0,b(250).then(e.destroy))};return(e.showLoading||e.icon.value)&&(t.padding="25px 15px"),D(()=>{e.duration>0&&b(e.duration).then(l)}),n({close:l}),{state:a,toastRef:c,style:t}},P={name:z,props:F,components:E,setup:M};function G(e,n,t,a,c,l){const p=y("icon"),w=y("overlay");return g(),_(A,{name:"slide-fade",appear:""},{default:j(()=>[v("div",{class:"toast",ref:"toastRef",style:V(e.style)},[e.showLoading||e.state.icon?(g(),_(p,{key:0,name:e.state.icon,class:"toast-icon"},null,8,["name"])):L("v-if",!0),v("p",null,$(e.state.message),1),O(w,{transparent:!0,show:e.forbidClick},null,8,["show"])],4)]),_:1})}var s=q(P,[["render",G],["__scopeId","data-v-05e95ea8"]]);function H(e,n){e.unmount(n),document.body.removeChild(n)}function o(e){e=u(e),e.message=d(e.message),e.icon=d(e.icon),e.destroy=function(){H(n,t)};const{instance:n,mountNode:t}=x(s,e);return n.message=e.message,n.icon=e.icon,n.close=e.destroy,console.log(n),n}o.success=function(e){return e=u(e),o(r(i({},e),{icon:"check"}))};o.fail=function(e){return e=u(e),o(r(i({},e),{icon:"close-circle"}))};o.loading=function(e){return e=u(e),o(r(i({},e),{showLoading:!0,icon:"loading-spinner"}))};function u(e){return typeof e!="object"?{message:e}:e}s.install=function(e){e.component(s.name,s)};o.Component=s;o.install=function(e){e.use(o.Component)};export{o as T,b as s};
