import{_ as B}from"./iframe-router.f1eda47d.js";import{o as m,a as v,i as E,d as f,t as M,r as I,F as T,b as X,n as d,c as P,f as F,h as H,P as D,S as U,B as L,I as j,H as q,A as z,x as W}from"./vue-libs.7edcdcd6.js";import{I as G}from"./index.ff4b90cf.js";import{c as J}from"./createBem.9e81425a.js";import{f as g,a as K,b as O}from"./props.f4e9878f.js";const Q="tab",Y={title:String,disable:Boolean},Z={name:Q,props:Y},x={class:"t-tabs__panel"},ee={class:"empty"};function te(e,s,a,c,o,r){return m(),v("div",x,[E(e.$slots,"default",{},()=>[f("div",ee,M(e.title)+"\u5185\u5BB9\u533A",1)])])}var $e=B(Z,[["render",te]]);function se(e){return window.requestAnimationFrame(e)}function oe(e,s){const a=e.value.clientWidth/2,c=a>s;let o=0;c&&e.value.scrollLeft?o=Math.abs(a-s)*-1:c||(o=Math.abs(a-s));const r=()=>{se(()=>{Math.round(o)&&(e.value.scrollLeft+=Math.round(o/8),o-=Math.round(o/8),r())})};r()}function ae(e,s,a,c,o){const[r]=s[e].childNodes,{left:u,width:l}=r.getBoundingClientRect(),n=e*-100,t=u+l/2;return a.value.style.width=l+"px",a.value.style.left=`${u+o.value.scrollLeft}px`,c.value.style.transform=`translateX(${n}%)`,t}function ne(e,s,a){let c,o,r;return{touchstart:t=>c=t.touches[0].pageX,touchmove:t=>o=t.touches[0].pageX,touchend:()=>{if(r=o-c,Math.abs(r)<70)return;const t=r>0?e.modelValue-1:e.modelValue+1;t>=0&&t<s.length&&a(t)}}}const[le,k]=J("tabs"),ce={cover:Boolean,lineAnimation:g,tabAnimation:g,swipeable:g,color:K("#0052d9"),swipeThreshold:O(5)},re={icon:G},ie=["update:modelValue"];function ue(e,{attrs:s,slots:a,emit:c}){let o;const{color:r,swipeThreshold:u}=U(e),l=L(),n=[],t=L(),h=L(),b=a.default();a=b[0].children instanceof Array?b[0].children:b;const A=i=>n.push(i),p=i=>{if(i===o||(o=i,n[i].classList.value.includes(`${k("tab")}--not-allow`)))return;const y=ae(i,n,l,t,h);a.length>u.value&&oe(h,y),c("update:modelValue",i)},{touchstart:_,touchmove:$,touchend:w}=ne(s,n,p);return j(()=>{const i=s.modelValue,V=n.length,N=n[i].classList.value.includes(`${k("tab")}--not-allow`);p(N?(i+1)%V:i),e.swipeable&&(t.value.addEventListener("touchstart",_),t.value.addEventListener("touchmove",$),t.value.addEventListener("touchend",w))}),q(()=>n.length=0),z(()=>{e.swipeable&&(t.value.removeEventListener("touchstart",_),t.value.removeEventListener("touchmove",$),t.value.removeEventListener("touchend",w))}),W(()=>s.modelValue,()=>p(s.modelValue)),{bem:k,slots:a,attrs:s,lineRef:l,trackRef:t,touchend:w,touchmove:$,touchstart:_,tabsSwitch:p,tabsHeadRef:h,setTabsItemRef:A}}const S={name:le,props:ce,emits:ie,setup:ue,components:re},C=()=>{D(e=>({"0a57339a":e.color}))},R=S.setup;S.setup=R?(e,s)=>(C(),R(e,s)):C;const de=S,me=["onClick"];function fe(e,s,a,c,o,r){const u=I("icon");return m(),v("div",{class:d(e.bem({cover:e.cover}))},[f("div",{class:d(e.bem("head")),ref:"tabsHeadRef"},[(m(!0),v(T,null,X(e.slots,(l,n)=>(m(),v("div",{class:d(e.bem("tab",{"not-allow":l.props.disable==""||l.props.disable})),key:n,ref_for:!0,ref:e.setTabsItemRef,onClick:t=>e.tabsSwitch(n)},[f("span",{class:d({blod:e.attrs.modelValue===n})},[l.props.icon?(m(),P(u,{key:0,name:l.props.icon},null,8,["name"])):F("v-if",!0),H(" "+M(l.props.title),1)],2)],10,me))),128)),f("div",{class:d(e.bem("line",{animation:e.lineAnimation})),ref:"lineRef"},null,2)],2),f("div",{class:d(e.bem("track",{animation:e.tabAnimation})),ref:"trackRef"},[E(e.$slots,"default")],2)],2)}var we=B(de,[["render",fe]]);export{we as a,$e as t};
