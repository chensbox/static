import{_ as B}from"./iframe-router.72810acd.js";import{o as m,a as v,i as E,d as f,t as M,r as T,F as X,b as I,n as d,c as F,f as H,h as P,O as D,R as U,B as L,I as j,H as q,A as z,x as O}from"./vue-libs.170ad214.js";import{i as W}from"./index.65c2544e.js";import{c as G}from"./createBem.9e81425a.js";import{f as g,a as J,b as K}from"./props.f4e9878f.js";const Q="tab",Y={title:String,disable:Boolean},Z={name:Q,props:Y},x={class:"t-tabs__panel"},ee={class:"empty"};function te(e,s,a,r,o,c){return m(),v("div",x,[E(e.$slots,"default",{},()=>[f("div",ee,M(e.title)+"\u5185\u5BB9\u533A",1)])])}var $e=B(Z,[["render",te]]);function se(e){return window.requestAnimationFrame(e)}function oe(e,s){const a=e.value.clientWidth/2,r=a>s;let o=0;r&&e.value.scrollLeft?o=Math.abs(a-s)*-1:r||(o=Math.abs(a-s));const c=()=>{se(()=>{Math.round(o)&&(e.value.scrollLeft+=Math.round(o/8),o-=Math.round(o/8),c())})};c()}function ae(e,s,a,r,o){const[c]=s[e].childNodes,{left:u,width:l}=c.getBoundingClientRect(),n=e*-100,t=u+l/2;return a.value.style.width=l+"px",a.value.style.left=`${u+o.value.scrollLeft}px`,r.value.style.transform=`translateX(${n}%)`,t}function ne(e,s,a){let r,o,c;return{touchstart:t=>r=t.touches[0].pageX,touchmove:t=>o=t.touches[0].pageX,touchend:()=>{if(c=o-r,Math.abs(c)<70)return;const t=c>0?e.modelValue-1:e.modelValue+1;t>=0&&t<s.length&&a(t)}}}const[le,k]=G("tabs"),re={cover:Boolean,lineAnimation:g,tabAnimation:g,swipeable:g,color:J("#0052d9"),swipeThreshold:K(5)},ce={icon:W},ie=["update:modelValue"];function ue(e,{attrs:s,slots:a,emit:r}){let o;const{color:c,swipeThreshold:u}=U(e),l=L(),n=[],t=L(),h=L(),b=a.default();a=b[0].children instanceof Array?b[0].children:b;const A=i=>n.push(i),p=i=>{if(i===o||(o=i,n[i].classList.value.includes(`${k("tab")}--not-allow`)))return;const R=ae(i,n,l,t,h);a.length>u.value&&oe(h,R),r("update:modelValue",i)},{touchstart:_,touchmove:$,touchend:w}=ne(s,n,p);return j(()=>{const i=s.modelValue,S=n.length,N=n[i].classList.value.includes(`${k("tab")}--not-allow`);p(N?(i+1)%S:i),e.swipeable&&(t.value.addEventListener("touchstart",_),t.value.addEventListener("touchmove",$),t.value.addEventListener("touchend",w))}),q(()=>n.length=0),z(()=>{e.swipeable&&(t.value.removeEventListener("touchstart",_),t.value.removeEventListener("touchmove",$),t.value.removeEventListener("touchend",w))}),O(()=>s.modelValue,()=>p(s.modelValue)),{bem:k,slots:a,attrs:s,lineRef:l,trackRef:t,touchend:w,touchmove:$,touchstart:_,tabsSwitch:p,tabsHeadRef:h,setTabsItemRef:A}}const V={name:le,props:re,emits:ie,setup:ue,components:ce},y=()=>{D(e=>({"0a57339a":e.color}))},C=V.setup;V.setup=C?(e,s)=>(y(),C(e,s)):y;const de=V,me=["onClick"];function fe(e,s,a,r,o,c){const u=T("icon");return m(),v("div",{class:d(e.bem({cover:e.cover}))},[f("div",{class:d(e.bem("head")),ref:"tabsHeadRef"},[(m(!0),v(X,null,I(e.slots,(l,n)=>(m(),v("div",{class:d(e.bem("tab",{"not-allow":l.props.disable==""||l.props.disable})),key:n,ref_for:!0,ref:e.setTabsItemRef,onClick:t=>e.tabsSwitch(n)},[f("span",{class:d({blod:e.attrs.modelValue===n})},[l.props.icon?(m(),F(u,{key:0,name:l.props.icon},null,8,["name"])):H("v-if",!0),P(" "+M(l.props.title),1)],2)],10,me))),128)),f("div",{class:d(e.bem("line",{animation:e.lineAnimation})),ref:"lineRef"},null,2)],2),f("div",{class:d(e.bem("track",{animation:e.tabAnimation})),ref:"trackRef"},[E(e.$slots,"default")],2)],2)}var we=B(de,[["render",fe]]);export{we as a,$e as t};
