import{_ as L}from"./iframe-router.446ee3db.js";import{o as p,a as h,i as k,d as m,t as C,r as I,F as N,b as E,n as f,c as M,f as X,h as A,L as T,N as D,B as $,D as F,C as H,x as j}from"./vue-libs.361a333e.js";import{I as z}from"./index.e6169b20.js";const U="tab",W={title:String,disable:Boolean},q={name:U,props:W},G={class:"tabs-body"},J={class:"empty"};function K(e,t,a,c,s,r){return p(),h("div",G,[k(e.$slots,"default",{},()=>[m("div",J,C(e.title)+"\u5185\u5BB9\u533A",1)])])}var ie=L(q,[["render",K]]);function O(e,t){const a=e.value.clientWidth/2,c=a>t;let s=0;c&&e.value.scrollLeft?s=Math.abs(a-t)*-1:c||(s=Math.abs(a-t));const r=setInterval(()=>{Math.round(s)?(e.value.scrollLeft+=s/10,s-=s/10):clearInterval(r)},10)}function P(e,t,a,c,s){const[r]=t[e].childNodes,{left:u,width:l}=r.getBoundingClientRect(),n=e*-100,o=u+l/2;return a.value.style.width=l+"px",a.value.style.left=`${u+s.value.scrollLeft}px`,c.value.style.transform=`translateX(${n}%)`,o}function Q(e,t,a){let c,s,r;return{touchstart:o=>c=o.touches[0].pageX,touchmove:o=>s=o.touches[0].pageX,touchend:()=>{if(r=s-c,Math.abs(r)<70)return;const o=r>0?e.modelValue-1:e.modelValue+1;o>=0&&o<t.length&&a(o)}}}const Y="tabs",Z={lineAnimation:{type:Boolean,default:!1},tabAnimation:{type:Boolean,default:!1},swipeable:{type:Boolean,default:!1},color:{type:String,default:"#0052d9"},cover:Boolean,swipeThreshold:{type:[Number,String],default:5}},x={icon:z},ee=["update:modelValue"];function te(e,{attrs:t,slots:a,emit:c}){let s;const{color:r,swipeThreshold:u}=D(e),l=$(),n=[],o=$(),v=$(),b=a.default();a=b[0].children instanceof Array?b[0].children:b;const R=i=>n.push(i),d=i=>{if(i===s||(s=i,n[i].classList.value.includes("not-allow")))return;const _=P(i,n,l,o,v);a.length>u.value&&O(v,_),c("update:modelValue",i)},{touchstart:V,touchmove:g,touchend:w}=Q(t,n,d);return F(()=>{const _=n[t.modelValue].classList.value.includes("not-allow");d(_?t.modelValue+1:t.modelValue),e.swipeable&&(o.value.addEventListener("touchstart",V),o.value.addEventListener("touchmove",g),o.value.addEventListener("touchend",w))}),H(()=>n.length=0),j(()=>t.modelValue,()=>d(t.modelValue)),{slots:a,attrs:t,tabsSwitch:d,setTabsItemRef:R,touchstart:V,touchmove:g,touchend:w,tabsHeadRef:v,lineRef:l,trackRef:o}}const y={name:Y,props:Z,emits:ee,components:x,setup:te},S=()=>{T(e=>({"3d798b36":e.color}))},B=y.setup;y.setup=B?(e,t)=>(S(),B(e,t)):S;const se=y,oe={class:"tabs-head",ref:"tabsHeadRef"},ae=["onClick"];function ne(e,t,a,c,s,r){const u=I("icon");return p(),h("div",{class:f(["tabs",e.cover?"cover":""])},[m("div",oe,[(p(!0),h(N,null,E(e.slots,(l,n)=>(p(),h("div",{class:f(["tabs-head-item",{"not-allow":l.props.disable==""||l.props.disable}]),key:n,ref_for:!0,ref:e.setTabsItemRef,onClick:o=>e.tabsSwitch(n)},[m("span",{class:f({blod:e.attrs.modelValue===n})},[l.props.icon?(p(),M(u,{key:0,name:l.props.icon},null,8,["name"])):X("v-if",!0),A(" "+C(l.props.title),1)],2)],10,ae))),128)),m("div",{class:f(["tabs-head-line",e.lineAnimation?"line_animation":""]),ref:"lineRef"},null,2)],512),m("div",{class:f(["tabs-track",e.tabAnimation?"tabs_animation":""]),ref:"trackRef"},[k(e.$slots,"default")],2)],2)}var ue=L(se,[["render",ne]]);export{ue as a,ie as t};
