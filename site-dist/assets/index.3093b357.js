import{o as _,a as v,d as L,i as P,n as S,g as U,S as C,F as R,b as q,f as G,B as y,M as H,I as J,A as K,r as X,e as s,w as l,h as d}from"./vue-libs.170ad214.js";import{c as O}from"./createBem.9e81425a.js";import{b as D,t as F}from"./props.f4e9878f.js";import{_ as I}from"./iframe-router.72810acd.js";import{T as Q}from"./index.f4d1e611.js";import"./index.65c2544e.js";/* empty css                                                           */import"./index.29976e75.js";const[Y,Z]=O("swipe"),ee=["change"],te={autoplay:D(2e3),duration:D(.5),loop:F,showIndicators:F};function oe(e,{emit:n}){const m=y(),a=y(0),f=y(e.duration),h=y(0),t=y(),$=H(()=>({transform:`translateX(${a.value}px)`,transition:`all ${f.value}s ease-out`}));let o,g,p,N,r,w,k,B,b,T=!1,u=0,i=0;const W=()=>{T||Date.now()-b<e.autoplay||(g=o+1,p=o,M(),setTimeout(V))},j=()=>{i==0?k.style.transform=`translateX(${o*-r}px)`:i==r-1?w.style.transform=`translateX(${o*r}px)`:k.style.transform=w.style.transform=""},M=c=>{T=!0,c&&(B=c.timeStamp,g=c.touches[0].pageX),x(),j()},x=()=>{(u==o||u==o*-r)&&(f.value=0,k.style.transform=w.style.transform=""),u==o&&(u=a.value=(r-1)*-o,i=r-1),u==o*-r&&(u=a.value=0,i=0)},A=c=>{f.value=0,p=c.touches[0].pageX,a.value=u+(p-g)},V=c=>{const E=p-g,z=Math.abs(a.value%o);T=!1,f.value=e.duration,b=c&&c.timeStamp,z<o/4&&b-B>100?a.value-=z*(a.value>0?1:-1):p&&(i+=E>0?-1:1,a.value=-i*o),h.value=i==-1?r-1:i,u=a.value,p=0,b=Date.now(),n("change",h.value%4+1)};return J(()=>{t.value=r=m.value.children.length,w=m.value.children[0],k=m.value.children[r-1],o=document.body.clientWidth,e.loop&&(N=setInterval(W,e.autoplay))}),K(()=>{clearInterval(N)}),{bem:Z,active:h,touchend:V,trackRef:m,dotCount:t,touchmove:A,touchstart:M,trackStyle:$}}const ne={name:Y,props:te,emits:ee,setup:oe};function ae(e,n,m,a,f,h){return _(),v("div",{class:S(e.bem())},[L("div",{class:S(e.bem("track")),ref:"trackRef",style:U(e.trackStyle),onTouchstart:n[0]||(n[0]=C((...t)=>e.touchstart&&e.touchstart(...t),["prevent"])),onTouchmove:n[1]||(n[1]=C((...t)=>e.touchmove&&e.touchmove(...t),["prevent"])),onTouchend:n[2]||(n[2]=C((...t)=>e.touchend&&e.touchend(...t),["prevent"]))},[P(e.$slots,"default")],38),e.showIndicators?(_(),v("div",{key:0,class:S(e.bem("dot"))},[(_(!0),v(R,null,q(e.dotCount,t=>(_(),v("div",{class:S(e.bem("dot-item",{active:e.active%4+1==t})),key:t},null,2))),128))],2)):G("v-if",!0)],2)}var se=I(ne,[["render",ae]]);const le={},re={class:"swipe-item"};function ue(e,n){return _(),v("div",re,[P(e.$slots,"default")])}var ie=I(le,[["render",ue]]);const ce={components:{swipe:se,swipeItem:ie},setup(){return{change:n=>{Q(`\u5F53\u524D\u7D22\u5F15\u662F ${n} `)}}}},de=d(" 1 "),me=d("2"),fe=d("3"),pe=d("4"),_e=d(" 1 "),ve=d("2"),he=d("3"),ye=d("4");function $e(e,n,m,a,f,h){const t=X("swipe-item"),$=X("swipe"),o=X("demo-block");return _(),v(R,null,[s(o,{title:"\u57FA\u7840\u7528\u6CD5"},{default:l(()=>[s($,null,{default:l(()=>[s(t,null,{default:l(()=>[de]),_:1}),s(t,null,{default:l(()=>[me]),_:1}),s(t,null,{default:l(()=>[fe]),_:1}),s(t,null,{default:l(()=>[pe]),_:1})]),_:1})]),_:1}),s(o,{title:"\u76D1\u542C\u5207\u6362\u4E8B\u4EF6"},{default:l(()=>[s($,{onChange:a.change,loop:!1},{default:l(()=>[s(t,null,{default:l(()=>[_e]),_:1}),s(t,null,{default:l(()=>[ve]),_:1}),s(t,null,{default:l(()=>[he]),_:1}),s(t,null,{default:l(()=>[ye]),_:1})]),_:1},8,["onChange"])]),_:1})],64)}var Ie=I(ce,[["render",$e]]);export{Ie as default};
