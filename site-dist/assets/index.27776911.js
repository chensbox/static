import{o as p,a as v,d as E,i as D,g as G,G as C,F as M,b as L,n as O,f as U,B as y,N as q,D as A,O as H,r as X,e as a,w as l,h as d}from"./vue-libs.83d6b4b5.js";import{_ as b}from"./iframe-router.6f5164d9.js";import{T as J}from"./index.20e44a42.js";import"./index.33dc4116.js";/* empty css                                                          */import"./index.f4652110.js";const K="swipe",P=["change"],Q={autoplay:{type:[String,Number],default:2e3},duration:{type:[String,Number],default:.5},loop:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0}};function Y(e,{emit:n}){const f=y(),s=y(0),m=y(e.duration),h=y(0),t=y(),$=q(()=>({transform:`translateX(${s.value}px)`,transition:`all ${m.value}s ease-out`}));let o,g,_,r,w,k,N,S,B,T=!1,u=0,i=0;const z=()=>{T||Date.now()-S<e.autoplay||(g=o+1,_=o,x(),setTimeout(I))},F=()=>{i==0?k.style.transform=`translateX(${o*-r}px)`:i==r-1?w.style.transform=`translateX(${o*r}px)`:k.style.transform=w.style.transform=""},x=c=>{T=!0,c&&(N=c.timeStamp,g=c.touches[0].pageX),R(),F()},R=()=>{(u==o||u==o*-r)&&(m.value=0,k.style.transform=w.style.transform=""),u==o&&(u=s.value=(r-1)*-o,i=r-1),u==o*-r&&(u=s.value=0,i=0)},W=c=>{m.value=0,_=c.touches[0].pageX,s.value=u+(_-g)},I=c=>{const j=_-g,V=Math.abs(s.value%o);T=!1,m.value=e.duration,S=c&&c.timeStamp,V<o/4&&S-N>100?s.value-=V*(s.value>0?1:-1):_&&(i+=j>0?-1:1,s.value=-i*o),h.value=i==-1?r-1:i,u=s.value,_=0,S=Date.now(),n("change",h.value%4+1)};return A(()=>{t.value=r=f.value.children.length,w=f.value.children[0],k=f.value.children[r-1],o=document.body.clientWidth,e.loop&&(B=setInterval(z,e.autoplay))}),H(()=>{clearInterval(B)}),{touchstart:x,touchmove:W,touchend:I,trackRef:f,trackStyle:$,dotCount:t,active:h}}const Z={name:K,props:Q,emits:P,setup:Y},ee={class:"swipe"},te={key:0,class:"dot"};function oe(e,n,f,s,m,h){return p(),v("div",ee,[E("div",{class:"swipe-track",ref:"trackRef",style:G(e.trackStyle),onTouchstart:n[0]||(n[0]=C((...t)=>e.touchstart&&e.touchstart(...t),["prevent"])),onTouchmove:n[1]||(n[1]=C((...t)=>e.touchmove&&e.touchmove(...t),["prevent"])),onTouchend:n[2]||(n[2]=C((...t)=>e.touchend&&e.touchend(...t),["prevent"]))},[D(e.$slots,"default")],36),e.showIndicators?(p(),v("div",te,[(p(!0),v(M,null,L(e.dotCount,t=>(p(),v("div",{class:O(["dot-item",{active:e.active%4+1==t}]),key:t},null,2))),128))])):U("v-if",!0)])}var ne=b(Z,[["render",oe]]);const se={},ae={class:"swipe-item"};function le(e,n){return p(),v("div",ae,[D(e.$slots,"default")])}var re=b(se,[["render",le]]);const ue={components:{swipe:ne,swipeItem:re},setup(){return{change:n=>{J(`\u5F53\u524D\u7D22\u5F15\u662F ${n} `)}}}},ie=d(" 1 "),ce=d("2"),de=d("3"),fe=d("4"),me=d(" 1 "),_e=d("2"),pe=d("3"),ve=d("4");function he(e,n,f,s,m,h){const t=X("swipe-item"),$=X("swipe"),o=X("demo-block");return p(),v(M,null,[a(o,{title:"\u57FA\u7840\u7528\u6CD5"},{default:l(()=>[a($,null,{default:l(()=>[a(t,null,{default:l(()=>[ie]),_:1}),a(t,null,{default:l(()=>[ce]),_:1}),a(t,null,{default:l(()=>[de]),_:1}),a(t,null,{default:l(()=>[fe]),_:1})]),_:1})]),_:1}),a(o,{title:"\u76D1\u542C\u5207\u6362\u4E8B\u4EF6"},{default:l(()=>[a($,{onChange:s.change,loop:!1},{default:l(()=>[a(t,null,{default:l(()=>[me]),_:1}),a(t,null,{default:l(()=>[_e]),_:1}),a(t,null,{default:l(()=>[pe]),_:1}),a(t,null,{default:l(()=>[ve]),_:1})]),_:1},8,["onChange"])]),_:1})],64)}var Te=b(ue,[["render",he]]);export{Te as default};
