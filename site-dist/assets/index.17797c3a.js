import{r as D,o as r,a as u,i as F,d as I,n as h,e as m,t as _,f as B,B as l,x as H,D as M,c as j,w as v,j as L,v as V,b as w,F as R}from"./vue-libs.42034ed0.js";import{c as z}from"./createBem.9e81425a.js";import{m as T,b as E}from"./props.4d0560a6.js";import{I as O}from"./index.eeb025c1.js";import{_ as q}from"./iframe-router.f13c50c0.js";import{t as $,a as A}from"./index.ac0dee81.js";import{P as G}from"./index.5809bd4b.js";/* empty css                                                          */import"./sleep.2dba75b7.js";const[J,K]=z("list"),Q={icon:O},W=["load","update:error"],X={loading:Boolean,error:Boolean,finished:Boolean,error:Boolean,loadingText:T("\u52A0\u8F7D\u4E2D..."),finishedText:T("\u6CA1\u6709\u66F4\u591A\u4E86"),errorText:T("\u8BF7\u6C42\u5931\u8D25\uFF0C\u70B9\u51FB\u91CD\u65B0\u52A0\u8F7D"),direction:T("down"),offset:E(0)};function Y(e,{emit:t}){let s;const i=l(),d=l(),p=([f])=>{f.isIntersecting&&!e.loading&&(s.unobserve(i.value),t("load"))},c=()=>{t("update:error",!1),t("load")},g=H(()=>e.loading,f=>{if(e.finished)return s.disconnect(),g();f||s.observe(i.value)});return M(()=>{const f={rootMargin:`${e.offset}px`};s=new IntersectionObserver(p,f),s.observe(i.value)}),{placeHolderRef:i,listRef:d,emitLoad:c,bem:K}}const Z={name:J,components:Q,emits:W,props:X,setup:Y};function ee(e,t,s,i,d,p){const c=D("icon");return r(),u("div",{class:h(e.bem()),ref:"listRef"},[F(e.$slots,"default",{},void 0,!0),I("div",{class:h(e.bem("place_holder")),style:{height:"1px"},ref:"placeHolderRef"},null,2),e.loading&&!e.error?(r(),u("div",{key:0,class:h(e.bem("loading-text"))},[m(c,{name:"loading"}),I("span",{class:h(e.bem("status-text"))},_(e.loadingText),3)],2)):B("v-if",!0),e.finished&&!e.loading?(r(),u("div",{key:1,class:h(e.bem("status-text"))},_(e.finishedText),3)):B("v-if",!0),e.error?(r(),u("div",{key:2,class:h(e.bem("status-text")),onClick:t[0]||(t[0]=(...g)=>e.emitLoad&&e.emitLoad(...g))},_(e.errorText),3)):B("v-if",!0)],2)}var x=q(Z,[["render",ee],["__scopeId","data-v-53dd6ed4"]]);const de={setup(e){const t=l(0),s=l(!1),i=l(!1),d=l(!1),p=l(!1),c=l(!1),g=l(!1),f=l(!1),k=l([]),b=l([]),y=l([]),U=n=>{setTimeout(n,2e3)},N=()=>{s.value=!0,setTimeout(()=>{for(let n=0;n<10;n++)k.value.push(k.value.length+1);if(s.value=!1,k.value.length>=40){c.value=!0;return}},1300)};let C=!1;const P=()=>{if(i.value=!0,b.value.length==10&&!C){C=p.value=!0;return}setTimeout(()=>{for(let n=0;n<10;n++)b.value.push(b.value.length+1);if(i.value=!1,b.value.length>=40){g.value=!0;return}},1300)},S=()=>{d.value=!0,setTimeout(()=>{for(let n=0;n<10;n++)y.value.push(y.value.length+1);if(d.value=!1,y.value.length>=40){f.value=!0;return}},1300)};return(n,o)=>(r(),j(A,{modelValue:t.value,"onUpdate:modelValue":o[5]||(o[5]=a=>t.value=a),"line-animation":""},{default:v(()=>[m($,{title:"\u57FA\u7840\u7528\u6CD5"},{default:v(()=>[L(m(x,{loading:s.value,"onUpdate:loading":o[0]||(o[0]=a=>s.value=a),finished:c.value,onLoad:N},{default:v(()=>[(r(!0),u(R,null,w(k.value,a=>(r(),u("div",{class:"cell",key:a},_(a),1))),128))]),_:1},8,["loading","finished"]),[[V,t.value==0]])]),_:1}),m($,{title:"\u9519\u8BEF\u63D0\u793A"},{default:v(()=>[L(m(x,{loading:i.value,"onUpdate:loading":o[1]||(o[1]=a=>i.value=a),error:p.value,"onUpdate:error":o[2]||(o[2]=a=>p.value=a),finished:g.value,onLoad:P},{default:v(()=>[(r(!0),u(R,null,w(b.value,a=>(r(),u("div",{class:"cell",key:a},_(a),1))),128))]),_:1},8,["loading","error","finished"]),[[V,t.value==1]])]),_:1}),m($,{title:"\u4E0B\u62C9\u5237\u65B0"},{default:v(()=>[m(G,{onRefresh:U,modelValue:d.value,"onUpdate:modelValue":o[4]||(o[4]=a=>d.value=a),"success-text":"\u5237\u65B0\u6210\u529F"},{default:v(()=>[L(m(x,{loading:d.value,"onUpdate:loading":o[3]||(o[3]=a=>d.value=a),finished:f.value,onLoad:S},{default:v(()=>[(r(!0),u(R,null,w(y.value,a=>(r(),u("div",{class:"cell",key:a},_(a),1))),128))]),_:1},8,["loading","finished"]),[[V,t.value==2]])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]))}};export{de as default};
