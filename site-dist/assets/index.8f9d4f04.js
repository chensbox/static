import{r as N,o as r,a as u,i as D,d as R,e as c,t as m,f as T,B as a,x as F,D as H,h as M,c as P,w as v,j as k,v as B,b as L,F as V}from"./vue-libs.361a333e.js";import{I as j}from"./index.e6169b20.js";import{_ as E}from"./iframe-router.446ee3db.js";import{t as b,a as O}from"./index.f7cbd423.js";import{P as q}from"./index.29eed1a4.js";/* empty css                                                          */import"./sleep.2dba75b7.js";const z="list",A={icon:j},G=["load","update:error"],J={loading:Boolean,error:Boolean,finished:Boolean,error:Boolean,loadingText:{type:String,default:"\u52A0\u8F7D\u4E2D..."},finishedText:{type:String,default:"\u6CA1\u6709\u66F4\u591A\u4E86"},errorText:{type:String,default:"\u8BF7\u6C42\u5931\u8D25\uFF0C\u70B9\u51FB\u91CD\u65B0\u52A0\u8F7D"},direction:{type:String,default:"down"},offset:{type:[String,Number],default:0}};function K(t,{emit:l}){let s;const i=a(),d=a(),p=([f])=>{f.isIntersecting&&!t.loading&&(s.unobserve(i.value),l("load"))},g=()=>{l("update:error",!1),l("load")},_=F(()=>t.loading,f=>{if(t.finished)return s.disconnect(),_();f||s.observe(i.value)});return H(()=>{const f={rootMargin:`${t.offset}px`};s=new IntersectionObserver(p,f),s.observe(i.value)}),{placeHolderRef:i,listRef:d,emitLoad:g}}const Q={name:z,components:A,emits:G,props:J,setup:K},W={class:"list",ref:"listRef"},X={class:"place_holder",ref:"placeHolderRef"},Y={key:0,class:"loading-text"},Z=M(),ee={class:"status-text"},te={key:1,class:"status-text"};function ae(t,l,s,i,d,p){const g=N("icon");return r(),u("div",W,[D(t.$slots,"default",{},void 0,!0),R("div",X,null,512),t.loading&&!t.error?(r(),u("div",Y,[c(g,{name:"loading"}),Z,R("span",ee,m(t.loadingText),1)])):T("v-if",!0),t.finished?(r(),u("div",te,m(t.finishedText),1)):T("v-if",!0),t.error?(r(),u("div",{key:2,class:"status-text",onClick:l[0]||(l[0]=(..._)=>t.emitLoad&&t.emitLoad(..._))},m(t.errorText),1)):T("v-if",!0)],512)}var S=E(Q,[["render",ae],["__scopeId","data-v-0c6658d0"]]);const de={setup(t){const l=a(0),s=a(!1),i=a(!1),d=a(!1),p=a(!1),g=a(!1),_=a(!1),f=a(!1),y=a([]),h=a([]),x=a([]),$=n=>{setTimeout(n,2e3)},I=()=>{s.value=!0,setTimeout(()=>{for(let n=0;n<10;n++)y.value.push(y.value.length+1);if(s.value=!1,y.value.length>=40){g.value=!0;return}},1300)};let w=!1;const U=()=>{if(i.value=!0,h.value.length==10&&!w){w=p.value=!0;return}setTimeout(()=>{for(let n=0;n<10;n++)h.value.push(h.value.length+1);if(i.value=!1,h.value.length>=40){_.value=!0;return}},1300)},C=()=>{d.value=!0,setTimeout(()=>{for(let n=0;n<10;n++)x.value.push(x.value.length+1);if(d.value=!1,x.value.length>=40){f.value=!0;return}},1300)};return(n,o)=>(r(),P(O,{modelValue:l.value,"onUpdate:modelValue":o[5]||(o[5]=e=>l.value=e),"line-animation":""},{default:v(()=>[c(b,{title:"\u57FA\u7840\u7528\u6CD5"},{default:v(()=>[k(c(S,{loading:s.value,"onUpdate:loading":o[0]||(o[0]=e=>s.value=e),finished:g.value,onLoad:I},{default:v(()=>[(r(!0),u(V,null,L(y.value,e=>(r(),u("div",{class:"cell",key:e},m(e),1))),128))]),_:1},8,["loading","finished"]),[[B,l.value==0]])]),_:1}),c(b,{title:"\u9519\u8BEF\u63D0\u793A"},{default:v(()=>[k(c(S,{loading:i.value,"onUpdate:loading":o[1]||(o[1]=e=>i.value=e),error:p.value,"onUpdate:error":o[2]||(o[2]=e=>p.value=e),finished:_.value,onLoad:U},{default:v(()=>[(r(!0),u(V,null,L(h.value,e=>(r(),u("div",{class:"cell",key:e},m(e),1))),128))]),_:1},8,["loading","error","finished"]),[[B,l.value==1]])]),_:1}),c(b,{title:"\u4E0B\u62C9\u5237\u65B0"},{default:v(()=>[c(q,{onRefresh:$,modelValue:d.value,"onUpdate:modelValue":o[4]||(o[4]=e=>d.value=e),"success-text":"\u5237\u65B0\u6210\u529F"},{default:v(()=>[k(c(S,{loading:d.value,"onUpdate:loading":o[3]||(o[3]=e=>d.value=e),finished:f.value,onLoad:C},{default:v(()=>[(r(!0),u(V,null,L(x.value,e=>(r(),u("div",{class:"cell",key:e},m(e),1))),128))]),_:1},8,["loading","finished"]),[[B,l.value==2]])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]))}};export{de as default};
