import{o as u,a as p,d as _,F as y,b as g,i as x,g as b,B as c,N as k,D as $,r as B,c as S,w as f,e as H,t as L,M as T}from"./vue-libs.83d6b4b5.js";import{_ as V}from"./iframe-router.ff21a982.js";/* empty css                                                          *//* empty css                                                           */const w="VirtualList",M={list:{type:Array,default:()=>[]}};function R(e,{emit:o}){const a=c(e.list.slice(0,1)),t=c(),l=c(0),s=c(),i=k(()=>l.value*e.list.length),n=(r=0)=>{const m=Math.ceil(t.value.clientHeight/l.value),d=Math.floor(r/l.value),h=d+m;a.value=e.list.slice(d,h),t.value.style.webkitTransform=`translate3d(0, ${d*l.value}px, 0)`},v=()=>{const r=s.value.scrollTop;n(r)};return $(()=>{const r=s.value.offsetTop;l.value=t.value.children[0].clientHeight,t.value.style.height=document.body.clientHeight-r+"px",n()}),{listBoxRef:s,scrollerRef:t,scrollHeight:i,visibleList:a,handleScroll:v}}const C={name:w,props:M,setup:R},D={class:"scroller",ref:"scrollerRef"};function N(e,o,a,t,l,s){return u(),p("div",{class:"virtual-list",onScroll:o[0]||(o[0]=(...i)=>e.handleScroll&&e.handleScroll(...i)),ref:"listBoxRef"},[_("div",D,[(u(!0),p(y,null,g(e.visibleList,(i,n)=>x(e.$slots,"default",{key:n,item:i,index:n})),128))],512),_("div",{class:"placeholder",style:b({height:e.scrollHeight+"px"})},null,4)],544)}var A=V(C,[["render",N]]);const q={setup(e){const o=new Array(1e4).fill(0).map((a,t)=>t+1);return(a,t)=>{const l=B("demo-block");return u(),S(l,{title:"\u57FA\u7840\u7528\u6CD5"},{default:f(()=>[H(A,{list:T(o)},{default:f(s=>[(u(),p("div",{class:"list-item",key:s.index},L(s.item+""),1))]),_:1},8,["list"])]),_:1})}}};export{q as default};
