import{o as m,a as _,d as j,i as D,g as E,G as T,F as G,b as L,n as O,f as U,B as p,N as q,D as A,O as H,r as b,c as J,w as f,e as v,h as S}from"./vue-libs.83d6b4b5.js";import{_ as B}from"./iframe-router.4802b0f6.js";const K="swipe",P={autoplay:{type:[String,Number],default:2e3},duration:{type:[String,Number],default:.5},loop:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0}};function Q(e,{slots:n}){const i=p(),s=p(0),c=p(e.duration),h=p(0),t=p(),g=q(()=>({transform:`translateX(${s.value}px)`,transition:`all ${c.value}s ease-out`}));let o,y,d,a,$,w,C,k,N,X=!1,r=0,l=0;const M=()=>{X||Date.now()-k<e.autoplay||(y=o+1,d=o,x(),setTimeout(I))},z=()=>{l==0?w.style.transform=`translateX(${o*-a}px)`:l==a-1?$.style.transform=`translateX(${o*a}px)`:w.style.transform=$.style.transform=""},x=u=>{X=!0,u&&(C=u.timeStamp,y=u.touches[0].pageX),F(),z()},F=()=>{(r==o||r==o*-a)&&(c.value=0,w.style.transform=$.style.transform=""),r==o&&(r=s.value=(a-1)*-o,l=a-1),r==o*-a&&(r=s.value=0,l=0)},R=u=>{c.value=0,d=u.touches[0].pageX,s.value=r+(d-y)},I=u=>{const W=d-y,V=Math.abs(s.value%o);X=!1,c.value=e.duration,k=u&&u.timeStamp,V<o/4&&k-C>100?s.value-=V*(s.value>0?1:-1):d&&(l+=W>0?-1:1,s.value=-l*o),h.value=l==-1?a-1:l,r=s.value,d=0,k=Date.now()};return A(()=>{t.value=a=i.value.children.length,$=i.value.children[0],w=i.value.children[a-1],o=document.body.clientWidth,N=setInterval(M,e.autoplay)}),H(()=>{clearInterval(N)}),{touchstart:x,touchmove:R,touchend:I,trackRef:i,trackStyle:g,dotCount:t,active:h}}const Y={name:K,props:P,setup:Q},Z={class:"swipe"},ee={key:0,class:"dot"};function te(e,n,i,s,c,h){return m(),_("div",Z,[j("div",{class:"swipe-track",ref:"trackRef",style:E(e.trackStyle),onTouchstart:n[0]||(n[0]=T((...t)=>e.touchstart&&e.touchstart(...t),["prevent"])),onTouchmove:n[1]||(n[1]=T((...t)=>e.touchmove&&e.touchmove(...t),["prevent"])),onTouchend:n[2]||(n[2]=T((...t)=>e.touchend&&e.touchend(...t),["prevent"]))},[D(e.$slots,"default")],36),e.showIndicators?(m(),_("div",ee,[(m(!0),_(G,null,L(e.dotCount,t=>(m(),_("div",{class:O(["dot-item",{active:e.active%4+1==t}]),key:t},null,2))),128))])):U("v-if",!0)])}var oe=B(Y,[["render",te]]);const se={},ae={class:"swipe-item"};function ne(e,n){return m(),_("div",ae,[D(e.$slots,"default")])}var re=B(se,[["render",ne]]);const le={components:{swipe:oe,swipeItem:re},setup(){}},ue=S(" 1 "),ie=S("2"),ce=S("3"),de=S("4");function fe(e,n,i,s,c,h){const t=b("swipe-item"),g=b("swipe"),o=b("demo-block");return m(),J(o,{title:"\u57FA\u7840\u7528\u6CD5"},{default:f(()=>[v(g,{autoplay:"2000"},{default:f(()=>[v(t,null,{default:f(()=>[ue]),_:1}),v(t,null,{default:f(()=>[ie]),_:1}),v(t,null,{default:f(()=>[ce]),_:1}),v(t,null,{default:f(()=>[de]),_:1})]),_:1})]),_:1})}var ve=B(le,[["render",fe]]);export{ve as default};
