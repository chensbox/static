import{r as p,o as c,c as f,w as V,a as h,n as g,f as _,d as w,t as N,e as B,T as $,x as k,B as S,C as I,D as M,N as O}from"./vue-libs.170ad214.js";import{c as P}from"./createBem.9e81425a.js";import{f as C,b as v}from"./props.f4e9878f.js";import{i as D}from"./index.65c2544e.js";import{o as j,e as m,i as z,M as E}from"./index.29976e75.js";import{_ as q}from"./iframe-router.72810acd.js";const[A,F]=P("toast"),G={icon:D,overlay:j},H={modelValue:C,message:String,position:String,icon:String,duration:v(2e3),forbidClick:C,loadingType:v("circle")};let l;function J(e,{emit:o}){const n=()=>o("close");return e.duration&&(l=setTimeout(n,e.duration)),k(e,()=>{clearTimeout(l),e.modelValue&&e.duration>0&&(l=setTimeout(n,e.duration))}),{bem:F}}const K={name:A,props:H,components:G,setup:J};function L(e,o,n,r,u,y){const s=p("icon"),T=p("overlay");return c(),f($,{name:"slide-fade",appear:""},{default:V(()=>[e.modelValue?(c(),h("div",{key:0,class:g(e.bem({padding:!!e.icon}))},[e.icon?(c(),f(s,{key:0,name:e.icon,class:g(e.bem("icon"))},null,8,["name","class"])):_("v-if",!0),w("p",null,N(e.message),1),B(T,{transparent:"",show:e.forbidClick&&e.modelValue},null,8,["show"])],2)):_("v-if",!0)]),_:1})}var t=q(K,[["render",L],["__scopeId","data-v-5d1839aa"]]);const Q={message:"",icon:void 0,duration:2500,position:"middle",forbidClick:!1,loadingType:void 0};let i;const R=()=>{const e=S(""),o=I({modelValue:!1,onClose:()=>r()}),n=s=>{m(o,s,{modelValue:!0})},r=()=>o.modelValue=!1,u=()=>O(t,o);k(e,s=>{o.message=s}),i=E({setup(){return M().render=u,{open:n,close:r,message:e}}}).instance},b=e=>z(e)?e:{message:e},d=e=>{let o;switch(e){case"loading":o="loading-spinner";break;case"success":o="check";break;case"fail":o="close-circle"}return n=>a(m({icon:o},b(n)))};function a(e){return i||R(),e=b(e),i.open(m({},Q,e)),i}a.loading=d("loading");a.success=d("success");a.fail=d("fail");t.install=e=>{e.component(t.name,t),e.config.globalProperties.$toast=a};a.Component=t;a.install=e=>e.use(a.Component);export{a as T};
