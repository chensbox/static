var w=Object.defineProperty,B=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var m=(e,n,t)=>n in e?w(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,i=(e,n)=>{for(var t in n||(n={}))S.call(n,t)&&m(e,t,n[t]);if(f)for(var t of f(n))I.call(n,t)&&m(e,t,n[t]);return e},r=(e,n)=>B(e,k(n));import{s as N,r as y,o as g,c as _,w as T,d as v,f as j,t as L,e as $,g as O,T as V,C as h,B as d,I as R}from"./vue-libs.7edcdcd6.js";import{s as p}from"./sleep.2dba75b7.js";import{I as q}from"./index.ff4b90cf.js";import{o as x}from"./index.79d60c36.js";import{_ as z}from"./iframe-router.f1eda47d.js";function A(e,n){const t=N(e,n),a=document.createElement("div");return document.body.appendChild(a),t.mount(a),{instance:t,mountNode:a}}const D="toast",E={icon:q,overlay:x},F={success:Boolean,fail:Boolean,destroy:Function,position:String,showLoading:Boolean,icon:[String,Object],duration:{type:Number,default:2e3},message:{type:[String,Object],require:!0},forbidClick:{type:Boolean,default:!1},loadingType:{type:String,default:"circle"}},M=(e,{expose:n})=>{const t=h({}),a=h({message:e.message,icon:e.icon}),c=d(),u=()=>{c.value&&(c.value.style.opacity=0,p(250).then(e.destroy))};return(e.showLoading||e.icon.value)&&(t.padding="25px 15px"),R(()=>{e.duration>0&&p(e.duration).then(u)}),n({close:u}),{state:a,toastRef:c,style:t}},G={name:D,props:F,components:E,setup:M};function H(e,n,t,a,c,u){const C=y("icon"),b=y("overlay");return g(),_(V,{name:"slide-fade",appear:""},{default:T(()=>[v("div",{class:"toast",ref:"toastRef",style:O(e.style)},[e.showLoading||e.state.icon?(g(),_(C,{key:0,name:e.state.icon,class:"toast-icon"},null,8,["name"])):j("v-if",!0),v("p",null,L(e.state.message),1),$(b,{transparent:!0,show:e.forbidClick},null,8,["show"])],4)]),_:1})}var s=z(G,[["render",H],["__scopeId","data-v-05e95ea8"]]);function J(e,n){e.unmount(n),document.body.removeChild(n)}function o(e){e=l(e),e.message=d(e.message),e.icon=d(e.icon),e.destroy=function(){J(n,t)};const{instance:n,mountNode:t}=A(s,e);return n.message=e.message,n.icon=e.icon,n.close=e.destroy,console.log(n),n}o.success=function(e){return e=l(e),o(r(i({},e),{icon:"check"}))};o.fail=function(e){return e=l(e),o(r(i({},e),{icon:"close-circle"}))};o.loading=function(e){return e=l(e),o(r(i({},e),{showLoading:!0,icon:"loading-spinner"}))};function l(e){return typeof e!="object"?{message:e}:e}s.install=function(e){e.component(s.name,s)};o.Component=s;o.install=function(e){e.use(o.Component)};export{o as T};
