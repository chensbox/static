import{o as p,a as v,d as E,i as D,g as G,G as C,F as M,b as L,n as O,f as P,B as y,O as U,D as q,P as A,r as X,e as a,w as l,h as d}from"./vue-libs.361a333e.js";import{_ as b}from"./iframe-router.446ee3db.js";import{T as H}from"./index.1278acd6.js";import"./sleep.2dba75b7.js";import"./index.e6169b20.js";/* empty css                                                          */import"./index.f8d247a5.js";const J="swipe",K=["change"],Q={autoplay:{type:[String,Number],default:2e3},duration:{type:[String,Number],default:.5},loop:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0}};function Y(t,{emit:n}){const f=y(),s=y(0),m=y(t.duration),h=y(0),e=y(),$=U(()=>({transform:`translateX(${s.value}px)`,transition:`all ${m.value}s ease-out`}));let o,g,_,r,w,k,B,S,N,T=!1,u=0,i=0;const z=()=>{T||Date.now()-S<t.autoplay||(g=o+1,_=o,x(),setTimeout(I))},F=()=>{i==0?k.style.transform=`translateX(${o*-r}px)`:i==r-1?w.style.transform=`translateX(${o*r}px)`:k.style.transform=w.style.transform=""},x=c=>{T=!0,c&&(B=c.timeStamp,g=c.touches[0].pageX),R(),F()},R=()=>{(u==o||u==o*-r)&&(m.value=0,k.style.transform=w.style.transform=""),u==o&&(u=s.value=(r-1)*-o,i=r-1),u==o*-r&&(u=s.value=0,i=0)},W=c=>{m.value=0,_=c.touches[0].pageX,s.value=u+(_-g)},I=c=>{const j=_-g,V=Math.abs(s.value%o);T=!1,m.value=t.duration,S=c&&c.timeStamp,V<o/4&&S-B>100?s.value-=V*(s.value>0?1:-1):_&&(i+=j>0?-1:1,s.value=-i*o),h.value=i==-1?r-1:i,u=s.value,_=0,S=Date.now(),n("change",h.value%4+1)};return q(()=>{e.value=r=f.value.children.length,w=f.value.children[0],k=f.value.children[r-1],o=document.body.clientWidth,t.loop&&(N=setInterval(z,t.autoplay))}),A(()=>{clearInterval(N)}),{touchstart:x,touchmove:W,touchend:I,trackRef:f,trackStyle:$,dotCount:e,active:h}}const Z={name:J,props:Q,emits:K,setup:Y},tt={class:"swipe"},et={key:0,class:"dot"};function ot(t,n,f,s,m,h){return p(),v("div",tt,[E("div",{class:"swipe-track",ref:"trackRef",style:G(t.trackStyle),onTouchstart:n[0]||(n[0]=C((...e)=>t.touchstart&&t.touchstart(...e),["prevent"])),onTouchmove:n[1]||(n[1]=C((...e)=>t.touchmove&&t.touchmove(...e),["prevent"])),onTouchend:n[2]||(n[2]=C((...e)=>t.touchend&&t.touchend(...e),["prevent"]))},[D(t.$slots,"default")],36),t.showIndicators?(p(),v("div",et,[(p(!0),v(M,null,L(t.dotCount,e=>(p(),v("div",{class:O(["dot-item",{active:t.active%4+1==e}]),key:e},null,2))),128))])):P("v-if",!0)])}var nt=b(Z,[["render",ot]]);const st={},at={class:"swipe-item"};function lt(t,n){return p(),v("div",at,[D(t.$slots,"default")])}var rt=b(st,[["render",lt]]);const ut={components:{swipe:nt,swipeItem:rt},setup(){return{change:n=>{H(`\u5F53\u524D\u7D22\u5F15\u662F ${n} `)}}}},it=d(" 1 "),ct=d("2"),dt=d("3"),ft=d("4"),mt=d(" 1 "),_t=d("2"),pt=d("3"),vt=d("4");function ht(t,n,f,s,m,h){const e=X("swipe-item"),$=X("swipe"),o=X("demo-block");return p(),v(M,null,[a(o,{title:"\u57FA\u7840\u7528\u6CD5"},{default:l(()=>[a($,null,{default:l(()=>[a(e,null,{default:l(()=>[it]),_:1}),a(e,null,{default:l(()=>[ct]),_:1}),a(e,null,{default:l(()=>[dt]),_:1}),a(e,null,{default:l(()=>[ft]),_:1})]),_:1})]),_:1}),a(o,{title:"\u76D1\u542C\u5207\u6362\u4E8B\u4EF6"},{default:l(()=>[a($,{onChange:s.change,loop:!1},{default:l(()=>[a(e,null,{default:l(()=>[mt]),_:1}),a(e,null,{default:l(()=>[_t]),_:1}),a(e,null,{default:l(()=>[pt]),_:1}),a(e,null,{default:l(()=>[vt]),_:1})]),_:1},8,["onChange"])]),_:1})],64)}var Ct=b(ut,[["render",ht]]);export{Ct as default};
