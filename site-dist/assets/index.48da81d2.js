import{o as u,a as p,d as _,F as g,b as x,i as b,g as k,B as c,L as $,D as B,r as S,c as H,w as m,e as L,t as T,P as V}from"./vue-libs.42034ed0.js";import{_ as w}from"./iframe-router.f13c50c0.js";/* empty css                                                          *//* empty css                                                           */const R="VirtualList",A={list:{type:Array,default:()=>[]}};function C(e,{emit:o}){const a=c(e.list.slice(0,1)),t=c(),l=c(0),s=c(),i=$(()=>l.value*e.list.length),r=(n=0)=>{const h=Math.ceil(t.value.clientHeight/l.value),f=Math.floor(n/l.value),y=f+h;a.value=e.list.slice(f,y),t.value.style.webkitTransform=`translate3d(0, ${f*l.value}px, 0)`};let d;const v=()=>{d||(d=!0,requestAnimationFrame(()=>{const n=s.value.scrollTop;r(n),d=!1}))};return B(()=>{const n=s.value.offsetTop;l.value=t.value.children[0].clientHeight,t.value.style.height=document.body.clientHeight-n+"px",r()}),{listBoxRef:s,scrollerRef:t,scrollHeight:i,visibleList:a,handleScroll:v}}const D={name:R,props:A,setup:C},F={class:"scroller",ref:"scrollerRef"};function M(e,o,a,t,l,s){return u(),p("div",{class:"virtual-list",onScroll:o[0]||(o[0]=(...i)=>e.handleScroll&&e.handleScroll(...i)),ref:"listBoxRef"},[_("div",F,[(u(!0),p(g,null,x(e.visibleList,(i,r)=>b(e.$slots,"default",{key:r,item:i,index:r})),128))],512),_("div",{class:"placeholder",style:k({height:e.scrollHeight+"px"})},null,4)],544)}var N=w(D,[["render",M]]);const G={setup(e){const o=new Array(1e4).fill(0).map((a,t)=>t+1);return(a,t)=>{const l=S("demo-block");return u(),H(l,{title:"\u57FA\u7840\u7528\u6CD5"},{default:m(()=>[L(N,{list:V(o)},{default:m(s=>[(u(),p("div",{class:"list-item",key:s.index},T(s.item+""),1))]),_:1},8,["list"])]),_:1})}}};export{G as default};
