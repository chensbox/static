var E=Object.defineProperty,I=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var y=(e,o,t)=>o in e?E(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,T=(e,o)=>{for(var t in o||(o={}))U.call(o,t)&&y(e,t,o[t]);if(V)for(var t of V(o))j.call(o,t)&&y(e,t,o[t]);return e},$=(e,o)=>I(e,O(o));import{r as f,o as C,a as h,e as n,w as i,n as u,d,t as v,i as z,h as g,c as N,f as _,T as G,F as L,B as A,M as D,C as H,N as J}from"./vue-libs.170ad214.js";import{o as K,e as M,M as Q,u as R}from"./index.29976e75.js";import{B as W}from"./index.085f50c3.js";import{c as X}from"./createBem.9e81425a.js";import{t as S,f as Y,a as F}from"./props.f4e9878f.js";import{_ as P}from"./iframe-router.72810acd.js";import{D as Z,s as x}from"./sleep.3f182beb.js";import{T as b}from"./index.f4d1e611.js";import{c as ee}from"./index.7995231f.js";import{c as oe}from"./index.cc5c28a8.js";import"./index.65c2544e.js";/* empty css                                                           *//* empty css                                              *//* empty css                                                          */const[te,ne]=X("dialog"),le={callback:Function,modelValue:Boolean,title:String,message:String,beforClose:Function,overlay:S,showComfirmButton:S,showCancelButton:Y,comfirmButtonText:F("\u786E\u8BA4"),cancelButtonText:F("\u53D6\u6D88")},ae=["comfirm","cancel","update:modelValue"],se={overlay:K,TButton:W};function re(e,{emit:o}){const t=A(!1),m=D(()=>t.value==="comfirm"),s=D(()=>t.value==="cancel"),c=a=>{if(!t.value){if(e.beforClose)return t.value=a,e.beforClose(a,r.bind(null,a));r(a)}},r=a=>{t.value=!1,e.callback&&e.callback(a),o(a),o("update:modelValue",!1)};return{bem:ne,onClick:c,comfirmLoading:m,cancelLoading:s}}const ie={name:te,props:le,emits:ae,components:se,setup:re};function ce(e,o,t,m,s,c){const r=f("t-button"),a=f("overlay");return C(),h(L,null,[n(G,{name:"slide-fade",appear:""},{default:i(()=>[e.modelValue?(C(),h("div",{key:0,class:u(e.bem())},[d("div",{class:u(e.bem("content"))},[d("p",{class:u(e.bem("title"))},v(e.title),3),d("div",{class:u(e.bem("text"))},[z(e.$slots,"default",{},()=>[g(v(e.message),1)],!0)],2)],2),d("div",{class:u(e.bem("footer",{"button-border":e.showComfirmButton}))},[e.showCancelButton?(C(),N(r,{key:0,class:u(e.bem("cancel-button")),square:"","loading-type":"loading",loading:e.cancelLoading,onClick:o[0]||(o[0]=p=>e.onClick("cancel"))},{default:i(()=>[g(v(e.cancelButtonText),1)]),_:1},8,["class","loading"])):_("v-if",!0),e.showComfirmButton?(C(),N(r,{key:1,class:u(e.bem("comfirm-button")),square:"","loading-type":"loading",loading:e.comfirmLoading,onClick:o[1]||(o[1]=p=>e.onClick("comfirm"))},{default:i(()=>[g(v(e.comfirmButtonText),1)]),_:1},8,["class","loading"])):_("v-if",!0)],2)],2)):_("v-if",!0)]),_:3}),n(a,{show:e.modelValue&&e.overlay},null,8,["show"])],64)}var k=P(ie,[["render",ce],["__scopeId","data-v-60eadeae"]]);function ue(){B=Q({setup(){const o=H({modelValue:!1,"onUpdate:modelValue":s=>o.modelValue=s});return R({open:s=>M(o,s,{modelValue:!0}),close:()=>o.modelValue=!1}),()=>J(k,o)}}).instance}let B;function l(e={}){const{promise:o,resolve:t,reject:m}=Z();return B||ue(),B.open(M({},l.currentOption,e,{callback:s=>(s==="comfirm"?t:m)()})),o}l.currentOption={callback:null,title:void 0,beforClose:null,overlay:!0,showComfirmButton:!0,showCancelButton:!1,comfirmButtonText:void 0,cancelButtonText:void 0};l.alert=function(e){return l(e)};l.confirm=function(e){return l($(T({},e),{showCancelButton:!0}))};k.install=function(e){e.component(k.name,k)};l.Component=k;l.install=function(e){e.use(l.Component)};const me={components:{TDialog:l.Component,cellGroup:oe,cell:ee},data(){return{show:!1}},methods:{beforClose(e,o){e=="comfirm"?x(2e3).then(o):o()},asyncClose(){l.confirm({title:"\u6807\u9898",message:"\u5982\u679C\u89E3\u51B3\u65B9\u6CD5\u662F\u4E11\u964B\u7684\uFF0C\u90A3\u5C31\u80AF\u5B9A\u8FD8\u6709\u66F4\u597D\u7684\u89E3\u51B3\u65B9\u6CD5\uFF0C\u53EA\u662F\u8FD8\u6CA1\u6709\u53D1\u73B0\u800C\u5DF2\u3002",beforClose:this.beforClose}).then(()=>{b("\u4F60\u70B9\u51FB\u4E86\u786E\u5B9A")}).catch(()=>{b("\u4F60\u70B9\u51FB\u4E86\u53D6\u6D88")})},onClick(){l.confirm({title:"\u6807\u9898",message:"\u5982\u679C\u89E3\u51B3\u65B9\u6CD5\u662F\u4E11\u964B\u7684\uFF0C\u90A3\u5C31\u80AF\u5B9A\u8FD8\u6709\u66F4\u597D\u7684\u89E3\u51B3\u65B9\u6CD5\uFF0C\u53EA\u662F\u8FD8\u6CA1\u6709\u53D1\u73B0\u800C\u5DF2\u3002"}).then(()=>{b("\u4F60\u70B9\u51FB\u4E86\u786E\u5B9A")}).catch(()=>{b("\u4F60\u70B9\u51FB\u4E86\u53D6\u6D88")})},onClick2(){l.alert({title:"\u6807\u9898",message:"\u5982\u679C\u89E3\u51B3\u65B9\u6CD5\u662F\u4E11\u964B\u7684\uFF0C\u90A3\u5C31\u80AF\u5B9A\u8FD8\u6709\u66F4\u597D\u7684\u89E3\u51B3\u65B9\u6CD5\uFF0C\u53EA\u662F\u8FD8\u6CA1\u6709\u53D1\u73B0\u800C\u5DF2\u3002"}).then(()=>{})},notTitle(){l.alert({message:"\u5982\u679C\u89E3\u51B3\u65B9\u6CD5\u662F\u4E11\u964B\u7684\uFF0C\u90A3\u5C31\u80AF\u5B9A\u8FD8\u6709\u66F4\u597D\u7684\u89E3\u51B3\u65B9\u6CD5\uFF0C\u53EA\u662F\u8FD8\u6CA1\u6709\u53D1\u73B0\u800C\u5DF2\u3002"}).then(()=>{})}}},fe=d("div",{class:"insert"},[g(" \u7EC4\u4EF6\u7528\u6CD5\u53EF\u4EE5\u901A\u8FC7\u9ED8\u8BA4\u63D2\u69FD\u5D4C\u5165\u4EFB\u610F\u5185\u5BB9"),d("br"),g("(\u6587\u5B57\u3001html\u8282\u70B9\u6216\u8005\u7EC4\u4EF6) ")],-1);function de(e,o,t,m,s,c){const r=f("cell"),a=f("cell-group"),p=f("demo-block"),q=f("t-dialog");return C(),h(L,null,[n(p,{title:"\u57FA\u7840\u7528\u6CD5"},{default:i(()=>[n(a,null,{default:i(()=>[n(r,{title:"\u63D0\u793A\u5F39\u7A97",onClick:c.onClick2},null,8,["onClick"]),n(r,{title:"\u63D0\u793A\u5F39\u7A97(\u65E0\u6807\u9898)",onClick:c.notTitle},null,8,["onClick"]),n(r,{title:"\u786E\u8BA4\u5F39\u7A97",onClick:c.onClick},null,8,["onClick"])]),_:1})]),_:1}),n(p,{title:"\u5F02\u6B65\u5173\u95ED"},{default:i(()=>[n(a,null,{default:i(()=>[n(r,{title:"\u5F02\u6B65\u5173\u95ED",onClick:c.asyncClose},null,8,["onClick"])]),_:1})]),_:1}),n(p,{title:"\u7EC4\u4EF6\u8C03\u7528"},{default:i(()=>[n(q,{modelValue:s.show,"onUpdate:modelValue":o[0]||(o[0]=w=>s.show=w),title:"\u6807\u9898"},{default:i(()=>[fe]),_:1},8,["modelValue"]),n(a,null,{default:i(()=>[n(r,{title:"\u63D0\u793A\u5F39\u7A97",onClick:o[1]||(o[1]=w=>s.show=!0)})]),_:1})]),_:1})],64)}var De=P(me,[["render",de]]);export{De as default};
